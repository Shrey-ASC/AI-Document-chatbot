
<!DOCTYPE html>
<html>
<head><title>AI Chat</title></head>
<body>
<h2>Upload Document</h2>
<input type="file" id="file">
<button onclick="upload()">Upload</button>

<h2>Ask Question</h2>
<textarea id="q"></textarea><br>
<button onclick="ask()">Ask</button>
<p id="a"></p>

<script>
function upload(){
 let f = document.getElementById('file').files[0]
 let form = new FormData()
 form.append('file', f)

 fetch('http://localhost:8000/upload-document',{
  method:'POST',
  body: form
 }).then(r=>r.json()).then(d=>alert(d.message))
}

function ask(){
 fetch('http://localhost:8000/chat',{
  method:'POST',
  headers:{'Content-Type':'application/json'},
  body:JSON.stringify({question:q.value})
 }).then(r=>r.json()).then(d=>{
  a.innerText=d.answer
 })
}
</script>
</body>
</html>
